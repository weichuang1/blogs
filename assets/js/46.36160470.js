(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{565:function(s,n,l){"use strict";l.r(n);var v=l(5),t=Object(v.a)({},(function(){var s=this,n=s.$createElement,l=s._self._c||n;return l("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[l("h3",{attrs:{id:"包结构"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#包结构"}},[s._v("#")]),s._v(" 包结构")]),s._v(" "),l("p",[s._v("包实际上是一个存档文件，及一个目录直接打包为.zip或tar.gz格式的文件，安装后解压还原为目录。完全符合CommonJS规范的包目录应该包含如下这些文件。")]),s._v(" "),l("ul",[l("li",[s._v("package.json\n"),l("ul",[l("li",[s._v("包描述文件")])])]),s._v(" "),l("li",[s._v("bin\n"),l("ul",[l("li",[s._v("存放可执行二进制文件的目录")])])]),s._v(" "),l("li",[s._v("lib\n"),l("ul",[l("li",[s._v("用于存放JavaScript代码目录")])])]),s._v(" "),l("li",[s._v("doc\n"),l("ul",[l("li",[s._v("用于存放文档的目录")])])]),s._v(" "),l("li",[s._v("test\n"),l("ul",[l("li",[s._v("用于存放单元测试用例的代码")])])])]),s._v(" "),l("h3",{attrs:{id:"package-json"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#package-json"}},[s._v("#")]),s._v(" package.json")]),s._v(" "),l("p",[s._v("CommonJS为起定义了一些必需的字段。")]),s._v(" "),l("ul",[l("li",[s._v("name\n"),l("ul",[l("li",[s._v("包名。唯一的，避免对外发布时命名冲突")])])]),s._v(" "),l("li",[s._v("description\n"),l("ul",[l("li",[s._v("包简介")])])]),s._v(" "),l("li",[s._v("version\n"),l("ul",[l("li",[s._v("版本号")])])]),s._v(" "),l("li",[s._v("keywords\n"),l("ul",[l("li",[s._v("关键词数组，用于做分类搜索")])])]),s._v(" "),l("li",[s._v("maintainers\n"),l("ul",[l("li",[s._v("包维护者列表")])])])]),s._v(" "),l("p",[s._v("权限认证")]),s._v(" "),l("ul",[l("li",[s._v("contributors\n"),l("ul",[l("li",[s._v("贡献者列表")])])]),s._v(" "),l("li",[s._v("bugs\n"),l("ul",[l("li",[s._v("一个可以反馈bug的页面或邮件")])])]),s._v(" "),l("li",[s._v("licenses\n"),l("ul",[l("li",[s._v("包所使用的许可证列表")])])]),s._v(" "),l("li",[s._v("repositories\n"),l("ul",[l("li",[s._v("托管源代码的文件位置")])])]),s._v(" "),l("li",[l("strong",[s._v("dependencies")]),s._v(" "),l("ul",[l("li",[s._v("当前包所依赖的包列表")])])]),s._v(" "),l("li",[s._v("directories\n"),l("ul",[l("li",[s._v("包目录说明")])])]),s._v(" "),l("li",[s._v("implements\n"),l("ul",[l("li",[s._v("实现规范的列表")])])]),s._v(" "),l("li",[s._v("scripts\n"),l("ul",[l("li",[s._v("脚本说明对象")]),s._v(" "),l("li",[s._v("被包管理器永安里安装、编译、测试、卸载包")])])])]),s._v(" "),l("p",[s._v("补充")]),s._v(" "),l("ul",[l("li",[s._v("author\n"),l("ul",[l("li",[s._v("包作者")])])]),s._v(" "),l("li",[s._v("bin\n"),l("ul",[l("li",[s._v("一些包作者希望包可以作为命令行工具使用。配置好bin字段后，可通过 "),l("code",[s._v("npm install ... -g")]),s._v("将脚本添加到执行路径")])])]),s._v(" "),l("li",[s._v("main\n"),l("ul",[l("li",[s._v("模块引入方法require()在引入包时，会优先检查这个字段，并将其作为包中其余模块的入口。")])])]),s._v(" "),l("li",[s._v("devDependencies\n"),l("ul",[l("li",[s._v("一些模块只在开发时需要依赖。可配置这个属性")])])])]),s._v(" "),l("h3",{attrs:{id:"npm-常用功能"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#npm-常用功能"}},[s._v("#")]),s._v(" npm 常用功能")]),s._v(" "),l("ul",[l("li",[l("p",[s._v("查看帮助")]),s._v(" "),l("ul",[l("li",[s._v("npm -v")]),s._v(" "),l("li",[s._v("npm")]),s._v(" "),l("li",[s._v("npm <cmd> -h\n"),l("ul",[l("li",[s._v("quick help on <cmd>")])])]),s._v(" "),l("li",[s._v("npm -l\n"),l("ul",[l("li",[s._v("display full usage info")])])]),s._v(" "),l("li",[s._v("npm faq")]),s._v(" "),l("li",[s._v("npm help <term>")])])]),s._v(" "),l("li",[l("p",[s._v("安装依赖")]),s._v(" "),l("ul",[l("li",[s._v("npm install ...\n"),l("ul",[l("li",[s._v("他会在当前目录下创建 node_moudles，然后在下面创建 ... 目录，接着将包解压到这个目录下")])])]),s._v(" "),l("li",[s._v("npm install ... -g\n"),l("ul",[l("li",[s._v("全局模块安装。并不意味着可以从任何地方require()来引入它")]),s._v(" "),l("li",[s._v("-给 其实是将一个包安装为全局可用的可执行命令。他根据包描述文件中 bin 字段配置，将实际脚本链接到与Node可执行文件相同的路径下")])])]),s._v(" "),l("li",[s._v("从本地安装")]),s._v(" "),l("li",[s._v("本地安装只需指明npm指明package.json文件所在的位置即可")])])])]),s._v(" "),l("p",[s._v("npm钩子命令\npackage.json中script字段的提出就是让包在安装或者卸载等过程中提供钩子机制")]),s._v(" "),l("div",{staticClass:"language-js line-numbers-mode"},[l("pre",{pre:!0,attrs:{class:"language-js"}},[l("code",[l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"script"')]),l("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),l("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"preinstall"')]),l("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx.js"')]),l("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"install"')]),l("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx.js"')]),l("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uninstall"')]),l("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx.js"')]),l("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),l("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),l("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx.js"')]),s._v("\n"),l("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),l("div",{staticClass:"line-numbers-wrapper"},[l("span",{staticClass:"line-number"},[s._v("1")]),l("br"),l("span",{staticClass:"line-number"},[s._v("2")]),l("br"),l("span",{staticClass:"line-number"},[s._v("3")]),l("br"),l("span",{staticClass:"line-number"},[s._v("4")]),l("br"),l("span",{staticClass:"line-number"},[s._v("5")]),l("br"),l("span",{staticClass:"line-number"},[s._v("6")]),l("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);